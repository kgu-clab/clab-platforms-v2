pre-commit:
  parallel: true
  commands:
    lint:
      run: |
        git diff --cached --name-only \
          | grep -E '^(apps|packages)/' \
          | cut -d/ -f1,2 \
          | sort -u \
          | while read -r pkg; do
              pnpm exec turbo run lint --filter="./$pkg"
            done

    format:
      run: pnpm format
      stage_fixed: true

commit-msg:
  run: |
    pnpm commitlint --edit {1} || {
      echo ""
      echo "ğŸš¨ ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."
      echo ""
      echo "í˜•ì‹:"
      echo "  ğŸš¨ (scope) ë©”ì‹œì§€"
      echo ""
      echo "ì˜ˆì‹œ:"
      echo "  âœ¨ (land) ì½”ë“œ ë¦°íŠ¸ë£° ì ìš©"
      echo "  ğŸ› (member) ì‘ë‹µ íŒŒì‹± ì˜¤ë¥˜ ìˆ˜ì •"
      echo ""
      exit 1
    }
